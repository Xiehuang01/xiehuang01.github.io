<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Xiehuang's 复习网站</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- 配置 Tailwind CSS -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            appleBlue: '#0071E3',
            appleBlueLight: '#4A90E2',
            appleGray: '#F5F5F7',
            appleDarkGray: '#86868B',
            appleText: '#1D1D1F',
          },
          fontFamily: {
            sanfrancisco: ['-apple-system', 'BlinkMacSystemFont', 'SF Pro', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .ios-shadow {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      }
      .ios-card {
        @apply bg-white rounded-2xl ios-shadow p-6 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg;
      }
      .ios-button {
        @apply bg-appleBlue text-white rounded-full py-3 px-8 font-medium transition-all duration-300 hover:bg-appleBlueLight hover:shadow-md active:scale-95;
      }
      .ios-input {
        @apply w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-appleBlue focus:ring-2 focus:ring-appleBlue/20 outline-none transition-all;
      }
    }
  </style>
</head>
<body class="font-sanfrancisco bg-appleGray min-h-screen text-appleText">
  <!-- 顶部导航栏 -->
  <header class="bg-white shadow-sm sticky top-0 z-50">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center">
      <div class="flex items-center space-x-2">
        <i class="fa fa-graduation-cap text-appleBlue text-2xl"></i>
        <h1 class="text-xl font-bold">知识复习</h1>
      </div>
      <div class="flex items-center">
        <button id="downloadBtn" class="text-appleBlue hover:text-appleBlueLight">
          <i class="fa fa-download text-xl"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- 主内容区 -->
  <main class="container mx-auto px-4 py-8">
    <!-- 欢迎信息 -->
    <section class="mb-10 text-center">
      <h2 class="text-[clamp(1.5rem,3vw,2rem)] font-bold mb-2">请选择复习模块</h2>
      <p class="text-appleDarkGray max-w-md mx-auto">(っ●ω●)っ</p>
    </section>

    <!-- 模块卡片网格 -->
    <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <!-- 计组模块 -->
      <div class="ios-card" onclick="openComputerOrganizationModal()">
        <div class="w-16 h-16 bg-appleBlue/10 rounded-2xl flex items-center justify-center mb-4">
          <i class="fa fa-microchip text-appleBlue text-2xl"></i>
        </div>
        <h3 class="text-lg font-semibold mb-2">计算机组成原理</h3>
        <p class="text-appleDarkGray text-sm">深入理解计算机硬件结构与工作原理</p>
      </div>

      <!-- 中国文化翻译模块 -->
      <div class="ios-card" onclick="openCultureModal()">
        <div class="w-16 h-16 bg-green-500/10 rounded-2xl flex items-center justify-center mb-4">
          <i class="fa fa-language text-green-500 text-2xl"></i>
        </div>
        <h3 class="text-lg font-semibold mb-2">中国文化翻译</h3>
        <p class="text-appleDarkGray text-sm">学习中国传统文化词汇的专业翻译</p>
      </div>

      <!-- MySQL模块 -->
      <div class="ios-card" onclick="window.location.href='mysqlfuxi.html'">
        <div class="w-16 h-16 bg-orange-500/10 rounded-2xl flex items-center justify-center mb-4">
          <i class="fa fa-database text-orange-500 text-2xl"></i>
        </div>
        <h3 class="text-lg font-semibold mb-2">MySQL 数据库</h3>
        <p class="text-appleDarkGray text-sm">掌握关系型数据库的设计与查询</p>
      </div>

      <!-- Hadoop模块 -->
      <div class="ios-card" onclick="openHadoopModal()">
        <div class="w-16 h-16 bg-green-600/10 rounded-2xl flex items-center justify-center mb-4">
          <i class="fa fa-cloud text-green-600 text-2xl"></i>
        </div>
        <h3 class="text-lg font-semibold mb-2">Hadoop 大数据</h3>
        <p class="text-appleDarkGray text-sm">分布式计算框架与大数据处理</p>
      </div>

      <!-- 计网模块 -->
      <div class="ios-card" onclick="openNetworkModal()">
        <div class="w-16 h-16 bg-purple-500/10 rounded-2xl flex items-center justify-center mb-4">
          <i class="fa fa-wifi text-purple-500 text-2xl"></i>
        </div>
        <h3 class="text-lg font-semibold mb-2">计算机网络</h3>
        <p class="text-appleDarkGray text-sm">网络体系结构与通信协议原理</p>
      </div>

      <!-- 复习题库模块 -->
      <div class="ios-card" onclick="openSponsorModal()">
        <div class="w-16 h-16 bg-red-500/10 rounded-2xl flex items-center justify-center mb-4">
          <i class="fa fa-book text-red-500 text-2xl"></i>
        </div>
        <h3 class="text-lg font-semibold mb-2">赞助</h3>
        <p class="text-appleDarkGray text-sm">毛概复习内容</p>
      </div>
    </section>
  </main>

  <!-- 功能未开放弹窗 -->
  <div id="modal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="bg-white rounded-2xl ios-shadow w-[90%] max-w-md transform scale-95 transition-transform duration-300">
      <div class="p-6 text-center">
        <div class="w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fa fa-lock text-red-500 text-2xl"></i>
        </div>
        <h3 id="modalTitle" class="text-xl font-bold mb-2">功能未开放</h3>
        <p class="text-appleDarkGray mb-6">也可能懒得开发了，敬请不期待(=´ω`=)</p>
        <button id="closeModal" class="ios-button w-full">
          知道了
        </button>
      </div>
    </div>
  </div>

  <!-- 计算机组成原理选择弹窗 -->
  <div id="computerOrganizationModal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="bg-white rounded-2xl ios-shadow w-[90%] max-w-md transform scale-95 transition-transform duration-300">
      <div class="p-6">
        <h3 class="text-xl font-bold mb-4 text-center">选择复习模式</h3>
        <div class="space-y-4 mb-6">
          <button onclick="window.location.href='computer-organization.html'" class="w-full py-4 px-6 bg-appleBlue/10 text-appleBlue rounded-xl hover:bg-appleBlue/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-check-square-o text-xl mr-3"></i>
              <span class="font-medium">选择判断题</span>
            </div>
          </button>
          <button onclick="window.location.href='memory-assistant.html'" class="w-full py-4 px-6 bg-appleBlue/10 text-appleBlue rounded-xl hover:bg-appleBlue/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-book text-xl mr-3"></i>
              <span class="font-medium">名词解析题</span>
            </div>
          </button>
        </div>
        <button id="closeComputerOrganizationModal" class="ios-button w-full">
          取消
        </button>
      </div>
    </div>
  </div>

  <!-- 下载APP弹窗 -->
  <div id="downloadModal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="bg-white rounded-2xl ios-shadow w-[90%] max-w-md transform scale-95 transition-transform duration-300">
      <div class="p-6 text-center">
        <div class="w-16 h-16 bg-appleBlue/10 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fa fa-mobile-phone text-appleBlue text-3xl"></i>
        </div>
        <h3 class="text-xl font-bold mb-2">下载APP</h3>
        <p class="text-appleDarkGray mb-6">是否下载Xiehuang APP？注意：App版本V2.0只有计组和中国文化翻译模块可以使用</p>
        <div class="flex space-x-4">
          <button id="cancelDownload" class="ios-button bg-appleDarkGray flex-1">
            取消
          </button>
          <a id="confirmDownload" href="app/xiehuang.apk" download class="ios-button flex-1 inline-flex items-center justify-center">
            下载
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- 中国文化翻译选择弹窗 -->
  <div id="cultureModal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="bg-white rounded-2xl ios-shadow w-[90%] max-w-md transform scale-95 transition-transform duration-300">
      <div class="p-6">
        <h3 class="text-xl font-bold mb-4 text-center">选择题目类型</h3>
        <div class="space-y-4 mb-6">
          <button onclick="window.location.href='culture-quiz.html'" class="w-full py-4 px-6 bg-appleBlue/10 text-appleBlue rounded-xl hover:bg-appleBlue/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-exchange text-xl mr-3"></i>
              <span class="font-medium">中英互译</span>
            </div>
          </button>
          <button onclick="window.location.href='wanxtk.html'" class="w-full py-4 px-6 bg-appleBlue/10 text-appleBlue rounded-xl hover:bg-appleBlue/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-pencil-square-o text-xl mr-3"></i>
              <span class="font-medium">完形填空</span>
            </div>
          </button>
        </div>
        <button id="closeCultureModal" class="ios-button w-full">
          取消
        </button>
      </div>
    </div>
  </div>

  <!-- 计算机网络选择弹窗 -->
  <div id="networkModal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="bg-white rounded-2xl ios-shadow w-[90%] max-w-md transform scale-95 transition-transform duration-300 max-h-[90vh] flex flex-col">
      <div class="p-6 overflow-hidden flex flex-col">
        <h3 class="text-xl font-bold mb-4 text-center">选择复习范围</h3>
        <div class="space-y-4 mb-6 overflow-y-auto pr-2">
          <button onclick="window.location.href='network-quiz.html?type=选择题&key=选择题1-35'" class="w-full py-4 px-6 bg-purple-500/10 text-purple-500 rounded-xl hover:bg-purple-500/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-check-circle-o text-xl mr-3"></i>
              <span class="font-medium">选择题 1-35</span>
            </div>
          </button>
          <button onclick="window.location.href='network-quiz.html?type=选择题&key=选择题36-70'" class="w-full py-4 px-6 bg-purple-500/10 text-purple-500 rounded-xl hover:bg-purple-500/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-check-circle-o text-xl mr-3"></i>
              <span class="font-medium">选择题 36-70</span>
            </div>
          </button>
          <button onclick="window.location.href='network-quiz.html?type=填空题&key=填空题1-16'" class="w-full py-4 px-6 bg-purple-500/10 text-purple-500 rounded-xl hover:bg-purple-500/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-pencil text-xl mr-3"></i>
              <span class="font-medium">填空题 1-16</span>
            </div>
          </button>
          <button onclick="window.location.href='network-quiz.html?type=填空题&key=填空题17-34'" class="w-full py-4 px-6 bg-purple-500/10 text-purple-500 rounded-xl hover:bg-purple-500/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-pencil text-xl mr-3"></i>
              <span class="font-medium">填空题 17-34</span>
            </div>
          </button>
          <button onclick="window.location.href='network-quiz.html?type=模拟练习&key=模拟练习'" class="w-full py-4 px-6 bg-green-500/10 text-green-500 rounded-xl hover:bg-green-500/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-random text-xl mr-3"></i>
              <span class="font-medium">模拟练习</span>
            </div>
          </button>
        </div>
        <button id="closeNetworkModal" class="ios-button w-full mt-auto">
          取消
        </button>
      </div>
    </div>
  </div>

  <!-- Hadoop选择弹窗 -->
  <div id="hadoopModal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="bg-white rounded-2xl ios-shadow w-[90%] max-w-md transform scale-95 transition-transform duration-300 max-h-[90vh] flex flex-col">
      <div class="p-6 overflow-hidden flex flex-col">
        <h3 class="text-xl font-bold mb-4 text-center">选择题目类型</h3>
        <div class="space-y-4 mb-6 overflow-y-auto pr-2">
          <button onclick="window.location.href='hadoop-quiz.html?type=单选题&key=单选题1'" class="w-full py-4 px-6 bg-appleBlue/10 text-appleBlue rounded-xl hover:bg-appleBlue/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-check-circle-o text-xl mr-3"></i>
              <span class="font-medium">单选题1</span>
            </div>
          </button>
          <button onclick="window.location.href='hadoop-quiz.html?type=单选题&key=单选题2'" class="w-full py-4 px-6 bg-appleBlue/10 text-appleBlue rounded-xl hover:bg-appleBlue/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-check-circle-o text-xl mr-3"></i>
              <span class="font-medium">单选题2</span>
            </div>
          </button>
          <button onclick="window.location.href='hadoop-quiz.html?type=单选题&key=单选题3'" class="w-full py-4 px-6 bg-appleBlue/10 text-appleBlue rounded-xl hover:bg-appleBlue/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-check-circle-o text-xl mr-3"></i>
              <span class="font-medium">单选题3</span>
            </div>
          </button>
          <button onclick="window.location.href='hadoop-quiz.html?type=多选题&key=多选题1'" class="w-full py-4 px-6 bg-appleBlue/10 text-appleBlue rounded-xl hover:bg-appleBlue/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-check-square-o text-xl mr-3"></i>
              <span class="font-medium">多选题1</span>
            </div>
          </button>
          <button onclick="window.location.href='hadoop-quiz.html?type=多选题&key=多选题2'" class="w-full py-4 px-6 bg-appleBlue/10 text-appleBlue rounded-xl hover:bg-appleBlue/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-check-square-o text-xl mr-3"></i>
              <span class="font-medium">多选题2</span>
            </div>
          </button>
          <button onclick="window.location.href='hadoop-quiz.html?type=多选题&key=多选题3'" class="w-full py-4 px-6 bg-appleBlue/10 text-appleBlue rounded-xl hover:bg-appleBlue/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-check-square-o text-xl mr-3"></i>
              <span class="font-medium">多选题3</span>
            </div>
          </button>
          <button onclick="window.location.href='hadoop-quiz.html?type=填空题&key=填空题1'" class="w-full py-4 px-6 bg-appleBlue/10 text-appleBlue rounded-xl hover:bg-appleBlue/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-pencil text-xl mr-3"></i>
              <span class="font-medium">填空题1</span>
            </div>
          </button>
          <button onclick="window.location.href='hadoop-quiz.html?type=填空题&key=填空题2'" class="w-full py-4 px-6 bg-appleBlue/10 text-appleBlue rounded-xl hover:bg-appleBlue/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-pencil text-xl mr-3"></i>
              <span class="font-medium">填空题2</span>
            </div>
          </button>
          <button onclick="window.location.href='hadoop-quiz.html?type=填空题&key=填空题3'" class="w-full py-4 px-6 bg-appleBlue/10 text-appleBlue rounded-xl hover:bg-appleBlue/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-pencil text-xl mr-3"></i>
              <span class="font-medium">填空题3</span>
            </div>
          </button>
          <button onclick="window.location.href='hadoop-quiz.html?type=模拟练习&key=模拟练习'" class="w-full py-4 px-6 bg-green-500/10 text-green-500 rounded-xl hover:bg-green-500/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-random text-xl mr-3"></i>
              <span class="font-medium">模拟练习</span>
            </div>
          </button>
        </div>
        <button id="closeHadoopModal" class="ios-button w-full mt-auto">
          取消
        </button>
      </div>
    </div>
  </div>

  <!-- 赞助弹窗 -->
  <div id="sponsorModal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="bg-white rounded-2xl ios-shadow w-[90%] max-w-md transform scale-95 transition-transform duration-300 max-h-[90vh] flex flex-col">
      <div class="p-6 overflow-hidden flex flex-col">
        <div class="w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fa fa-book text-red-500 text-2xl"></i>
        </div>
        <h3 class="text-xl font-bold mb-4 text-center">选择复习章节</h3>
        <div class="space-y-4 mb-6 overflow-y-auto pr-2">
          <button onclick="openChapterModal('第一章')" class="w-full py-4 px-6 bg-red-500/10 text-red-500 rounded-xl hover:bg-red-500/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-bookmark text-xl mr-3"></i>
              <span class="font-medium">第一章</span>
            </div>
          </button>
          <button onclick="openChapterModal('第二章')" class="w-full py-4 px-6 bg-red-500/10 text-red-500 rounded-xl hover:bg-red-500/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-bookmark text-xl mr-3"></i>
              <span class="font-medium">第二章</span>
            </div>
          </button>
          <button onclick="openChapterModal('第三章')" class="w-full py-4 px-6 bg-red-500/10 text-red-500 rounded-xl hover:bg-red-500/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-bookmark text-xl mr-3"></i>
              <span class="font-medium">第三章</span>
            </div>
          </button>
          <button onclick="openChapterModal('第四章')" class="w-full py-4 px-6 bg-red-500/10 text-red-500 rounded-xl hover:bg-red-500/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-bookmark text-xl mr-3"></i>
              <span class="font-medium">第四章</span>
            </div>
          </button>
          <button onclick="openChapterModal('第六章')" class="w-full py-4 px-6 bg-red-500/10 text-red-500 rounded-xl hover:bg-red-500/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-bookmark text-xl mr-3"></i>
              <span class="font-medium">第六章</span>
            </div>
          </button>
          <button onclick="openChapterModal('第七章')" class="w-full py-4 px-6 bg-red-500/10 text-red-500 rounded-xl hover:bg-red-500/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-bookmark text-xl mr-3"></i>
              <span class="font-medium">第七章</span>
            </div>
          </button>
          <button onclick="openChapterModal('第八章')" class="w-full py-4 px-6 bg-red-500/10 text-red-500 rounded-xl hover:bg-red-500/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-bookmark text-xl mr-3"></i>
              <span class="font-medium">第八章</span>
            </div>
          </button>
          <button onclick="openChapterModal('模拟练习')" class="w-full py-4 px-6 bg-green-500/10 text-green-500 rounded-xl hover:bg-green-500/20 transition-colors">
            <div class="flex items-center">
              <i class="fa fa-random text-xl mr-3"></i>
              <span class="font-medium">模拟练习</span>
            </div>
          </button>
        </div>
        <button id="closeSponsorModal" class="ios-button w-full mt-auto">
          取消
        </button>
      </div>
    </div>
  </div>

  <!-- 章节题型选择弹窗 -->
  <div id="chapterModal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="bg-white rounded-2xl ios-shadow w-[90%] max-w-md transform scale-95 transition-transform duration-300">
      <div class="p-6">
        <h3 id="chapterTitle" class="text-xl font-bold mb-4 text-center">选择题目类型</h3>
        <div id="chapterOptions" class="space-y-4 mb-6">
          <!-- 这里的选项将通过JavaScript动态生成 -->
        </div>
        <button id="closeChapterModal" class="ios-button w-full">
          返回
        </button>
      </div>
    </div>
  </div>

  <script>
    // 弹窗控制
    const modal = document.getElementById('modal');
    const modalTitle = document.getElementById('modalTitle');
    const closeModal = document.getElementById('closeModal');
    
    // 计算机组成原理模态框控制
    const computerOrganizationModal = document.getElementById('computerOrganizationModal');
    const closeComputerOrganizationModal = document.getElementById('closeComputerOrganizationModal');
    
    function openComputerOrganizationModal() {
      computerOrganizationModal.classList.remove('opacity-0', 'pointer-events-none');
      setTimeout(() => {
        const modalContent = computerOrganizationModal.querySelector('div');
        modalContent.classList.remove('scale-95');
        modalContent.classList.add('scale-100');
      }, 10);
    }
    
    function closeComputerOrganizationModalFunc() {
      const modalContent = computerOrganizationModal.querySelector('div');
      modalContent.classList.remove('scale-100');
      modalContent.classList.add('scale-95');
      setTimeout(() => {
        computerOrganizationModal.classList.add('opacity-0', 'pointer-events-none');
      }, 300);
    }
    
    closeComputerOrganizationModal.addEventListener('click', closeComputerOrganizationModalFunc);
    
    // 点击计算机组成原理模态框外部关闭
    computerOrganizationModal.addEventListener('click', (e) => {
      if (e.target === computerOrganizationModal) {
        closeComputerOrganizationModalFunc();
      }
    });

    function openModal(moduleName) {
      modalTitle.textContent = `${moduleName} - 功能未开放`;
      modal.classList.remove('opacity-0', 'pointer-events-none');
      setTimeout(() => {
        const modalContent = modal.querySelector('div');
        modalContent.classList.remove('scale-95');
        modalContent.classList.add('scale-100');
      }, 10);
    }

    function closeModalFunc() {
      const modalContent = modal.querySelector('div');
      modalContent.classList.remove('scale-100');
      modalContent.classList.add('scale-95');
      setTimeout(() => {
        modal.classList.add('opacity-0', 'pointer-events-none');
      }, 300);
    }

    closeModal.addEventListener('click', closeModalFunc);

    // 点击模态框外部关闭
    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        closeModalFunc();
      }
    });

    // 按ESC键关闭模态框
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        if (!modal.classList.contains('opacity-0')) {
          closeModalFunc();
        }
        if (!computerOrganizationModal.classList.contains('opacity-0')) {
          closeComputerOrganizationModalFunc();
        }
        if (!hadoopModal.classList.contains('opacity-0')) {
          closeHadoopModalFunc();
        }
        if (!cultureModal.classList.contains('opacity-0')) {
          closeCultureModalFunc();
        }
        if (!networkModal.classList.contains('opacity-0')) {
          closeNetworkModalFunc();
        }
        if (!sponsorModal.classList.contains('opacity-0')) {
          closeSponsorModalFunc();
        }
        if (!chapterModal.classList.contains('opacity-0')) {
          closeChapterModalFunc();
        }
      }
    });
    
    // 下载APP弹窗控制
    const downloadModal = document.getElementById('downloadModal');
    const downloadBtn = document.getElementById('downloadBtn');
    const cancelDownload = document.getElementById('cancelDownload');
    
    // 打开下载弹窗
    function openDownloadModal() {
      downloadModal.classList.remove('opacity-0', 'pointer-events-none');
      setTimeout(() => {
        const modalContent = downloadModal.querySelector('div');
        modalContent.classList.remove('scale-95');
        modalContent.classList.add('scale-100');
      }, 10);
    }
    
    // 关闭下载弹窗
    function closeDownloadModal() {
      const modalContent = downloadModal.querySelector('div');
      modalContent.classList.remove('scale-100');
      modalContent.classList.add('scale-95');
      setTimeout(() => {
        downloadModal.classList.add('opacity-0', 'pointer-events-none');
      }, 300);
    }
    
    // 下载按钮点击事件
    downloadBtn.addEventListener('click', openDownloadModal);
    
    // 取消下载按钮事件
    cancelDownload.addEventListener('click', closeDownloadModal);
    
    // 点击下载弹窗外部关闭
    downloadModal.addEventListener('click', (e) => {
      if (e.target === downloadModal) {
        closeDownloadModal();
      }
    });

    // 中国文化翻译模态框控制
    const cultureModal = document.getElementById('cultureModal');
    const closeCultureModal = document.getElementById('closeCultureModal');
    
    function openCultureModal() {
      cultureModal.classList.remove('opacity-0', 'pointer-events-none');
      setTimeout(() => {
        const modalContent = cultureModal.querySelector('div');
        modalContent.classList.remove('scale-95');
        modalContent.classList.add('scale-100');
      }, 10);
    }
    
    function closeCultureModalFunc() {
      const modalContent = cultureModal.querySelector('div');
      modalContent.classList.remove('scale-100');
      modalContent.classList.add('scale-95');
      setTimeout(() => {
        cultureModal.classList.add('opacity-0', 'pointer-events-none');
      }, 300);
    }
    
    closeCultureModal.addEventListener('click', closeCultureModalFunc);
    
    // 点击中国文化翻译模态框外部关闭
    cultureModal.addEventListener('click', (e) => {
      if (e.target === cultureModal) {
        closeCultureModalFunc();
      }
    });

    // 计网模块控制
    const networkModal = document.getElementById('networkModal');
    const closeNetworkModal = document.getElementById('closeNetworkModal');
    
    function openNetworkModal() {
      networkModal.classList.remove('opacity-0', 'pointer-events-none');
      setTimeout(() => {
        const modalContent = networkModal.querySelector('div');
        modalContent.classList.remove('scale-95');
        modalContent.classList.add('scale-100');
      }, 10);
    }
    
    function closeNetworkModalFunc() {
      const modalContent = networkModal.querySelector('div');
      modalContent.classList.remove('scale-100');
      modalContent.classList.add('scale-95');
      setTimeout(() => {
        networkModal.classList.add('opacity-0', 'pointer-events-none');
      }, 300);
    }
    
    closeNetworkModal.addEventListener('click', closeNetworkModalFunc);
    
    // 点击计网模态框外部关闭
    networkModal.addEventListener('click', (e) => {
      if (e.target === networkModal) {
        closeNetworkModalFunc();
      }
    });

    // Hadoop模态框控制
    const hadoopModal = document.getElementById('hadoopModal');
    const closeHadoopModal = document.getElementById('closeHadoopModal');
    
    function openHadoopModal() {
      hadoopModal.classList.remove('opacity-0', 'pointer-events-none');
      setTimeout(() => {
        const modalContent = hadoopModal.querySelector('div');
        modalContent.classList.remove('scale-95');
        modalContent.classList.add('scale-100');
      }, 10);
    }
    
    function closeHadoopModalFunc() {
      const modalContent = hadoopModal.querySelector('div');
      modalContent.classList.remove('scale-100');
      modalContent.classList.add('scale-95');
      setTimeout(() => {
        hadoopModal.classList.add('opacity-0', 'pointer-events-none');
      }, 300);
    }
    
    closeHadoopModal.addEventListener('click', closeHadoopModalFunc);
    
    // 点击Hadoop模态框外部关闭
    hadoopModal.addEventListener('click', (e) => {
      if (e.target === hadoopModal) {
        closeHadoopModalFunc();
      }
    });

    // 赞助模态框控制
    const sponsorModal = document.getElementById('sponsorModal');
    const closeSponsorModal = document.getElementById('closeSponsorModal');
    
    function openSponsorModal() {
      sponsorModal.classList.remove('opacity-0', 'pointer-events-none');
      setTimeout(() => {
        const modalContent = sponsorModal.querySelector('div');
        modalContent.classList.remove('scale-95');
        modalContent.classList.add('scale-100');
      }, 10);
    }
    
    function closeSponsorModalFunc() {
      const modalContent = sponsorModal.querySelector('div');
      modalContent.classList.remove('scale-100');
      modalContent.classList.add('scale-95');
      setTimeout(() => {
        sponsorModal.classList.add('opacity-0', 'pointer-events-none');
      }, 300);
    }
    
    closeSponsorModal.addEventListener('click', closeSponsorModalFunc);
    
    // 点击赞助模态框外部关闭
    sponsorModal.addEventListener('click', (e) => {
      if (e.target === sponsorModal) {
        closeSponsorModalFunc();
      }
    });

    // 章节题型选择模态框控制
    const chapterModal = document.getElementById('chapterModal');
    const chapterTitle = document.getElementById('chapterTitle');
    const chapterOptions = document.getElementById('chapterOptions');
    const closeChapterModal = document.getElementById('closeChapterModal');
    let currentChapter = '';
    
    function openChapterModal(chapter) {
      currentChapter = chapter;
      chapterTitle.textContent = `${chapter} - 选择题型`;
      
      // 清空选项
      chapterOptions.innerHTML = '';
      
      // 添加单选题选项
      const singleChoiceBtn = document.createElement('button');
      singleChoiceBtn.className = 'w-full py-4 px-6 bg-red-500/10 text-red-500 rounded-xl hover:bg-red-500/20 transition-colors';
      singleChoiceBtn.innerHTML = `
        <div class="flex items-center">
          <i class="fa fa-circle-o text-xl mr-3"></i>
          <span class="font-medium">单选题</span>
        </div>
      `;
      singleChoiceBtn.onclick = () => {
        window.location.href = `review-quiz.html?chapter=${encodeURIComponent(chapter)}&type=单选题`;
      };
      chapterOptions.appendChild(singleChoiceBtn);
      
      // 添加多选题选项
      const multiChoiceBtn = document.createElement('button');
      multiChoiceBtn.className = 'w-full py-4 px-6 bg-red-500/10 text-red-500 rounded-xl hover:bg-red-500/20 transition-colors';
      multiChoiceBtn.innerHTML = `
        <div class="flex items-center">
          <i class="fa fa-check-square-o text-xl mr-3"></i>
          <span class="font-medium">多选题</span>
        </div>
      `;
      multiChoiceBtn.onclick = () => {
        window.location.href = `review-quiz.html?chapter=${encodeURIComponent(chapter)}&type=多选题`;
      };
      chapterOptions.appendChild(multiChoiceBtn);
      
      // 如果不是第四章和模拟练习，添加判断题选项
      if (chapter !== '第四章' && chapter !== '模拟练习') {
        const judgmentBtn = document.createElement('button');
        judgmentBtn.className = 'w-full py-4 px-6 bg-red-500/10 text-red-500 rounded-xl hover:bg-red-500/20 transition-colors';
        judgmentBtn.innerHTML = `
          <div class="flex items-center">
            <i class="fa fa-question-circle-o text-xl mr-3"></i>
            <span class="font-medium">判断题</span>
          </div>
        `;
        judgmentBtn.onclick = () => {
          window.location.href = `review-quiz.html?chapter=${encodeURIComponent(chapter)}&type=判断题`;
        };
        chapterOptions.appendChild(judgmentBtn);
      }
      
      // 显示弹窗
      sponsorModal.classList.add('opacity-0', 'pointer-events-none');
      chapterModal.classList.remove('opacity-0', 'pointer-events-none');
      setTimeout(() => {
        const modalContent = chapterModal.querySelector('div');
        modalContent.classList.remove('scale-95');
        modalContent.classList.add('scale-100');
      }, 10);
    }
    
    function closeChapterModalFunc() {
      const modalContent = chapterModal.querySelector('div');
      modalContent.classList.remove('scale-100');
      modalContent.classList.add('scale-95');
      setTimeout(() => {
        chapterModal.classList.add('opacity-0', 'pointer-events-none');
        // 重新打开章节选择弹窗
        openSponsorModal();
      }, 300);
    }
    
    closeChapterModal.addEventListener('click', closeChapterModalFunc);
    
    // 点击章节题型选择模态框外部关闭
    chapterModal.addEventListener('click', (e) => {
      if (e.target === chapterModal) {
        closeChapterModalFunc();
      }
    });
  </script>
</body>
</html>